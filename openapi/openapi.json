{"openapi":"3.1.0","info":{"title":"Field-TM","description":"HOTOSM Field Tasking Manager","license":{"name":"AGPL-3.0-only","url":"https://raw.githubusercontent.com/hotosm/field-tm/main/LICENSE.md"},"version":"2025.3.1"},"paths":{"/users":{"get":{"tags":["users"],"summary":"Get Users","description":"Get all user details.","operationId":"get_users_users_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Results Per Page"}},{"name":"search","in":"query","required":false,"schema":{"type":"string","default":"","title":"Search"}},{"name":"signin_type","in":"query","required":false,"schema":{"enum":["osm","google"],"type":"string","description":"Filter by signin type (osm or google)","title":"Signin Type"},"description":"Filter by signin type (osm or google)"},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUsers"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/usernames":{"get":{"tags":["users"],"summary":"Get Userlist","description":"Get all user list with info such as id and username.","operationId":"get_userlist_users_usernames_get","parameters":[{"name":"search","in":"query","required":false,"schema":{"type":"string","default":"","title":"Search"}},{"name":"signin_type","in":"query","required":false,"schema":{"enum":["osm","google"],"type":"string","description":"Filter by signin type (osm or google)","title":"Signin Type"},"description":"Filter by signin type (osm or google)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Usernames"},"title":"Response Get Userlist Users Usernames Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/user-role-options":{"get":{"tags":["users"],"summary":"Get User Roles","description":"Check for available user role options.","operationId":"get_user_roles_users_user_role_options_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/process-inactive-users":{"post":{"tags":["users"],"summary":"Delete Inactive Users","description":"Identify inactive users, send warnings, and delete accounts.","operationId":"delete_inactive_users_users_process_inactive_users_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/invites":{"get":{"tags":["users"],"summary":"Get Project User Invites","description":"Get all user invites for a project.","operationId":"get_project_user_invites_users_invites_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DbUserInvite"},"title":"Response Get Project User Invites Users Invites Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/invite":{"post":{"tags":["users"],"summary":"Invite New User","description":"Invite a user to a project.\n\nIf the user already exists, directly assign the role to the user.\nIf the user does not exist, create an invite and send an email or OSM message.\nThe invite URL is user specific with a token that expires after 7 days.\n- Including `osm_username` will send an OSM message notification (including email).\n- Including `email` will send an email to the user.\n- It's also possible to send the returned invite URL to the user via other means\n(e.g. mobile message).","operationId":"invite_new_user_users_invite_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInviteIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/invite/{token}":{"get":{"tags":["users"],"summary":"Accept Invite","description":"Accept a user invite token and generate relevant DB entries.","operationId":"accept_invite_users_invite__token__get","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string","title":"Token"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_sub}":{"patch":{"tags":["users"],"summary":"Update Existing User","description":"Change the role of a user.","operationId":"update_existing_user_users__user_sub__patch","parameters":[{"name":"user_sub","in":"path","required":true,"schema":{"type":"string","title":"User Sub"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{id}":{"get":{"tags":["users"],"summary":"Get User By Identifier","description":"Get a single users details.\n\nThe OSM ID should be used.\nIf this is not known, the endpoint falls back to searching\nfor the username.","operationId":"get_user_by_identifier_users__id__get","parameters":[{"name":"sub","in":"query","required":true,"schema":{"type":"string","title":"Sub"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User By Identifier","description":"Delete a single user.","operationId":"delete_user_by_identifier_users__id__delete","parameters":[{"name":"sub","in":"query","required":true,"schema":{"type":"string","title":"Sub"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/features":{"get":{"tags":["projects"],"summary":"Read Projects To Featcol","description":"Return all projects as a single FeatureCollection.\n\nThis endpoint is used by disaster.ninja.","operationId":"read_projects_to_featcol_projects_features_get","parameters":[{"name":"bbox","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bbox"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeatureCollection-Output"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects":{"get":{"tags":["projects"],"summary":"Read Projects","description":"Return all projects.","operationId":"read_projects_projects_get","parameters":[{"name":"user_sub","in":"query","required":false,"schema":{"type":"string","title":"User Sub"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectOutNoXml"},"title":"Response Read Projects Projects Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["projects"],"summary":"Create Project","description":"Create a project in ODK Central and the local database.\n\nThe org_id and project_id params are inherited from the org_admin permission.\nEither param can be passed to determine if the user has admin permission\nto the organisation (or organisation associated with a project).","operationId":"create_project_projects_post","parameters":[{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/me":{"post":{"tags":["projects"],"summary":"Get Projects For User","description":"Get all projects the user is author of.\n\nTODO to be implemented in future.","operationId":"get_projects_for_user_projects_me_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DbProject"},"title":"Response Get Projects For User Projects Me Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/near_me":{"post":{"tags":["projects"],"summary":"Get Tasks Near Me","description":"Get projects near me.\n\nTODO to be implemented in future.","operationId":"get_tasks_near_me_projects_near_me_post","parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","title":"Lat"}},{"name":"long","in":"query","required":true,"schema":{"type":"number","title":"Long"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectSummary"},"title":"Response Get Tasks Near Me Projects Near Me Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/summaries":{"get":{"tags":["projects"],"summary":"Read Project Summaries","description":"Get a paginated summary of projects.\n\nNOTE this is a public endpoint with no auth requirements.","operationId":"read_project_summaries_projects_summaries_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Results Per Page"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"user_sub","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Sub"}},{"name":"hashtags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hashtags"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"minimal","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Minimal"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProjectSummaries"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/entities":{"get":{"tags":["projects"],"summary":"Get Odk Entities Geojson","description":"Get the ODK entities for a project in GeoJSON format.\n\nNOTE This endpoint should not not be used to display the feature geometries.\nRendering multiple GeoJSONs if inefficient.\nThis is done by the flatgeobuf by filtering the task area bbox.","operationId":"get_odk_entities_geojson_projects__project_id__entities_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"minimal","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Minimal"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityFeatureCollection"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/entities/statuses":{"get":{"tags":["projects"],"summary":"Get Odk Entities Mapping Statuses","description":"Get the ODK entities mapping statuses, i.e. in progress or complete.","operationId":"get_odk_entities_mapping_statuses_projects__project_id__entities_statuses_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntityMappingStatus"},"title":"Response Get Odk Entities Mapping Statuses Projects  Project Id  Entities Statuses Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/entities/osm-ids":{"get":{"tags":["projects"],"summary":"Get Odk Entities Osm Ids","description":"Get the ODK entities linked OSM IDs.\n\nThis endpoint is required as we cannot modify the data extract fields\nwhen generated via raw-data-api.\nWe need to link Entity UUIDs to OSM/Feature IDs.","operationId":"get_odk_entities_osm_ids_projects__project_id__entities_osm_ids_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntityOsmID"},"title":"Response Get Odk Entities Osm Ids Projects  Project Id  Entities Osm Ids Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/entities/task-ids":{"get":{"tags":["projects"],"summary":"Get Odk Entities Task Ids","description":"Get the ODK entities linked Field-TM Task IDs.","operationId":"get_odk_entities_task_ids_projects__project_id__entities_task_ids_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EntityTaskID"},"title":"Response Get Odk Entities Task Ids Projects  Project Id  Entities Task Ids Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/entity/status":{"get":{"tags":["projects"],"summary":"Get Odk Entity Mapping Status","description":"Get the ODK entity mapping status, i.e. in progress or complete.","operationId":"get_odk_entity_mapping_status_projects__project_id__entity_status_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"entity_id","in":"query","required":true,"schema":{"type":"string","title":"Entity Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityMappingStatus"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["projects"],"summary":"Set Odk Entities Mapping Status","description":"Set the ODK entities mapping status, i.e. in progress or complete.\n\nentity_details must be a JSON body with params:\n{\n    \"entity_id\": \"string\",\n    \"label\": \"Feature <FEATURE_ID>\",\n    \"status\": 0\n}","operationId":"set_odk_entities_mapping_status_projects__project_id__entity_status_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityMappingStatusIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntityMappingStatus"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/tiles":{"get":{"tags":["projects"],"summary":"Tiles List","description":"Returns the list of tiles for a project.\n\nParameters:\n    project_id: int\n    db (Connection): The database connection.\n    current_user (AuthUser): Check if user is logged in.\n\nReturns:\n    Response: List of generated tiles for a project.","operationId":"tiles_list_projects__project_id__tiles_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BasemapOut"},"title":"Response Tiles List Projects  Project Id  Tiles Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/categories":{"get":{"tags":["projects"],"summary":"Get Categories","description":"Get api for fetching all the categories.\n\nThis endpoint fetches all the categories from osm_fieldwork.\n\n## Response\n- Returns a JSON object containing a list of categories and their respoective forms.","operationId":"get_categories_projects_categories_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/features/download":{"get":{"tags":["projects"],"summary":"Download Features","description":"Downloads the features of a project as a GeoJSON file.\n\nCan generate a geojson for the entire project, or specific task areas.","operationId":"download_features_projects_features_download_get","parameters":[{"name":"task_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Id"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/convert-fgb-to-geojson":{"get":{"tags":["projects"],"summary":"Convert Fgb To Geojson","description":"Convert flatgeobuf to GeoJSON format, extracting GeometryCollection.\n\nHelper endpoint to test data extracts during project creation.\nRequired as the flatgeobuf files wrapped in GeometryCollection\ncannot be read in QGIS or other tools.\n\nArgs:\n    url (str): URL to the flatgeobuf file.\n    db (Connection): The database connection.\n    current_user (AuthUser): Check if user is logged in.\n\nReturns:\n    Response: The HTTP response object containing the downloaded file.","operationId":"convert_fgb_to_geojson_projects_convert_fgb_to_geojson_get","parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","title":"Url"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/task-status/{bg_task_id}":{"get":{"tags":["projects"],"summary":"Get Task Status","description":"Get the background task status by passing the task ID.","operationId":"get_task_status_projects_task_status__bg_task_id__get","parameters":[{"name":"bg_task_id","in":"path","required":true,"schema":{"type":"string","title":"Bg Task Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__projects__project_schemas__BackgroundTaskStatus"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/contributors/{project_id}":{"get":{"tags":["projects"],"summary":"Get Contributors","description":"Get contributors of a project.\n\nTODO use a pydantic model for return type","operationId":"get_contributors_projects_contributors__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/task-split":{"post":{"tags":["projects"],"summary":"Task Split","description":"Split a task into subtasks.\n\nNOTE we pass a connection\n\nArgs:\n    current_user (AuthUser): the currently logged in user.\n    project_geojson (UploadFile): The geojson (AOI) to split.\n    extract_geojson (UploadFile, optional): Custom data extract geojson\n        containing osm features (should be a FeatureCollection).\n        If not included, an extract is generated automatically.\n    no_of_buildings (int, optional): The number of buildings per subtask.\n        Defaults to 50.\n\nReturns:\n    The result of splitting the task into subtasks.","operationId":"task_split_projects_task_split_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_task_split_projects_task_split_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/preview-split-by-square":{"post":{"tags":["projects"],"summary":"Preview Split By Square","description":"Preview splitting by square.\n\nTODO update to use a response_model","operationId":"preview_split_by_square_projects_preview_split_by_square_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_preview_split_by_square_projects_preview_split_by_square_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeatureCollection-Output"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/generate-data-extract":{"post":{"tags":["projects"],"summary":"Get Data Extract","description":"Get a new data extract for a given project AOI.\n\nTODO allow config file (YAML/JSON) upload for data extract generation\nTODO alternatively, direct to raw-data-api to generate first, then upload","operationId":"get_data_extract_projects_generate_data_extract_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_get_data_extract_projects_generate_data_extract_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/data-extract-url":{"get":{"tags":["projects"],"summary":"Get Or Set Data Extract","description":"Get or set the data extract URL for a project.","operationId":"get_or_set_data_extract_projects_data_extract_url_get","parameters":[{"name":"url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/upload-data-extract":{"post":{"tags":["projects"],"summary":"Upload Data Extract","description":"Upload a data extract geojson for a project.\n\nThe frontend has the option to upload flatgeobuf, but this must first\nbe deserialised to GeoJSON before upload here.\n\nNote the following properties are mandatory:\n- \"id\"\n- \"osm_id\"\n- \"tags\"\n- \"version\"\n- \"changeset\"\n- \"timestamp\"\n\nIf a property is missing, a defaults will be assigned.\n\nExtracts are best generated with https://export.hotosm.org for full compatibility.\n\nRequest Body\n- 'data_extract_file' (file): File with the data extract features.\n\nQuery Params:\n- 'project_id' (int): the project's id. Required.","operationId":"upload_data_extract_projects_upload_data_extract_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_data_extract_projects_upload_data_extract_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/add-manager":{"post":{"tags":["projects"],"summary":"Add New Project Manager","description":"Add a new project manager.\n\nThe logged in user must be the admin of the organisation.","operationId":"add_new_project_manager_projects_add_manager_post","parameters":[{"name":"sub","in":"query","required":true,"schema":{"type":"string","title":"Sub"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/users":{"get":{"tags":["projects"],"summary":"Get Project Users","description":"Get project users and their project role.","operationId":"get_project_users_projects__project_id__users_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserRolesOut"},"title":"Response Get Project Users Projects  Project Id  Users Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/additional-entity":{"post":{"tags":["projects"],"summary":"Add Additional Entity List","description":"Add an additional Entity list for the project in ODK.\n\nNote that the Entity list will be named from the filename\nof the GeoJSON uploaded.","operationId":"add_additional_entity_list_projects__project_id__additional_entity_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_add_additional_entity_list_projects__project_id__additional_entity_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/generate-project-data":{"post":{"tags":["projects"],"summary":"Generate Files","description":"Generate additional content to initialise the project.\n\nBoundary, ODK Central forms, QR codes, etc.\n\nAccepts a project ID and an uploaded file as inputs.\nThe generated files are associated with the project ID and stored in the database.\nThis api generates odk appuser tokens, forms. This api also creates an app user for\neach task and provides the required roles.\nSome of the other functionality of this api includes converting a xls file\nprovided by the user to the xform, generates osm data extracts and uploads\nit to the form.\n\nArgs:\n    xlsform_upload (UploadFile): The XLSForm for the project data collection.\n    combined_features_count (int): Total count of features to be mapped, plus\n        additional dataset features, determined by frontend.\n    db (Connection): The database connection.\n    project_user_dict (ProjectUserDict): Project admin role.\n    background_tasks (BackgroundTasks): FastAPI background tasks.\n\nReturns:\n    json (JSONResponse): A success message containing the project ID.","operationId":"generate_files_projects__project_id__generate_project_data_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_generate_files_projects__project_id__generate_project_data_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/tiles-generate":{"post":{"tags":["projects"],"summary":"Generate Project Basemap","description":"Returns basemap tiles for a project.","operationId":"generate_project_basemap_projects__project_id__tiles_generate_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BasemapGenerate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}":{"patch":{"tags":["projects"],"summary":"Update Project","description":"Partial update an existing project.","operationId":"update_project_projects__project_id__patch","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["projects"],"summary":"Delete Project","description":"Delete a project from both ODK Central and the local database.","operationId":"delete_project_projects__project_id__delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["projects"],"summary":"Read Project","description":"Get a specific project by ID.","operationId":"read_project_projects__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/upload-task-boundaries":{"post":{"tags":["projects"],"summary":"Upload Project Task Boundaries","description":"Set project task boundaries using split GeoJSON from frontend.\n\nEach polygon in the uploaded geojson are made into single task.\n\nRequired Parameters:\n    project_id (id): ID for associated project.\n    task_geojson (UploadFile): Multi-polygon GeoJSON file.\n\nReturns:\n    JSONResponse: JSON containing success message.","operationId":"upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/minimal":{"get":{"tags":["projects"],"summary":"Read Project Minimal","description":"Get a specific project by ID, with minimal metadata.\n\nThis endpoint is used for a quick return on the mapper frontend,\nwithout all additional calculated fields.\n\nIt can also be accessed via temporary authentication, regardless of\nproject visibility, hence has very minimal metadata included\n(no sensitive fields).\n\nNOTE this does mean the odk_token can be retrieved from this endpoint\nand is a small leak that could be addressed in future if needed.\n(any user could theoretically submit a contribution via the ODK\ntoken, even if this is a private project).","operationId":"read_project_minimal_projects__project_id__minimal_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/download":{"get":{"tags":["projects"],"summary":"Download Project Boundary","description":"Downloads the boundary of a project as a GeoJSON file.","operationId":"download_project_boundary_projects__project_id__download_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/download_tasks":{"get":{"tags":["projects"],"summary":"Download Task Boundaries","description":"Downloads the boundary of the tasks for a project as a GeoJSON file.\n\nArgs:\n    project_id (int): Project ID path param.\n    db (Connection): The database connection.\n    project_user (ProjectUserDict): Check if user has MAPPER permission.\n\nReturns:\n    Response: The HTTP response object containing the downloaded file.","operationId":"download_task_boundaries_projects__project_id__download_tasks_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/teams":{"get":{"tags":["projects"],"summary":"Get Project Teams","description":"Get the teams associated with a project.","operationId":"get_project_teams_projects__project_id__teams_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectTeam"},"title":"Response Get Project Teams Projects  Project Id  Teams Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["projects"],"summary":"Create Project Team","description":"Create a new team for a project.","operationId":"create_project_team_projects__project_id__teams_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectTeamIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectTeamOne"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/teams/{team_id}":{"get":{"tags":["projects"],"summary":"Get Team","description":"Get the teams associated with a project.","operationId":"get_team_projects__project_id__teams__team_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"team_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectTeam"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["projects"],"summary":"Update Project Team","description":"Get the teams associated with a project.","operationId":"update_project_team_projects__project_id__teams__team_id__patch","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"team_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectTeamIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectTeamOne"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["projects"],"summary":"Delete Project Team","description":"Get the teams associated with a project.","operationId":"delete_project_team_projects__project_id__teams__team_id__delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"team_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/{project_id}/teams/{team_id}/users":{"post":{"tags":["projects"],"summary":"Add Team Users","description":"Add users to a team.","operationId":"add_team_users_projects__project_id__teams__team_id__users_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"team_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"User Subs"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["projects"],"summary":"Remove Team Users","description":"Add users to a team.","operationId":"remove_team_users_projects__project_id__teams__team_id__users_delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"team_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"User Subs"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/projects/entity/{entity_uuid}":{"delete":{"tags":["projects"],"summary":"Delete Entity","description":"Delete an Entity from ODK and local database.","operationId":"delete_entity_projects_entity__entity_uuid__delete","parameters":[{"name":"entity_uuid","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entity Uuid"}},{"name":"dataset_name","in":"query","required":false,"schema":{"type":"string","default":"features","title":"Dataset Name"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks":{"get":{"tags":["tasks"],"summary":"Read Tasks","description":"Get all task details for a project.","operationId":"read_tasks_tasks_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskOut"},"title":"Response Read Tasks Tasks Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/near_me":{"post":{"tags":["tasks"],"summary":"Get Tasks Near Me","description":"Get tasks near the requesting user.","operationId":"get_tasks_near_me_tasks_near_me_post","parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","title":"Lat"}},{"name":"long","in":"query","required":true,"schema":{"type":"number","title":"Long"}},{"name":"project_id","in":"query","required":false,"schema":{"type":"integer","title":"Project Id"}},{"name":"user_sub","in":"query","required":false,"schema":{"type":"string","title":"User Sub"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/activity":{"get":{"tags":["tasks"],"summary":"Task Activity","description":"Get the number of mapped or validated tasks on each day.\n\nReturn format:\n[\n    {\n        date: DD/MM/YYYY,\n        validated: int,\n        mapped: int,\n    }\n]","operationId":"task_activity_tasks_activity_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Days"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskEventCount"},"title":"Response Task Activity Tasks Activity Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get Specific Task","description":"Get a specific task by it's ID.","operationId":"get_specific_task_tasks__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}/event":{"post":{"tags":["tasks"],"summary":"Add New Task Event","description":"Add a new event to the events table / update task status.","operationId":"add_new_task_event_tasks__task_id__event_post","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"assignee_sub","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assignee Sub"}},{"name":"notify","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Notify"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}},{"name":"team_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskEventIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskEventOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/{task_id}/history":{"get":{"tags":["tasks"],"summary":"Get Task Event History","description":"Get the detailed history for a task.","operationId":"get_task_event_history_tasks__task_id__history_get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Days"}},{"name":"comments","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Comments"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskEventOut"},"title":"Response Get Task Event History Tasks  Task Id  History Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tasks/unlock-tasks":{"post":{"tags":["tasks"],"summary":"Unlock Tasks","description":"Endpoint to trigger unlock_old_locked_tasks manually.","operationId":"unlock_tasks_tasks_unlock_tasks_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/projects":{"get":{"tags":["central"],"summary":"List Projects","description":"List projects in Central.","operationId":"list_projects_central_projects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/central/list-forms":{"get":{"tags":["central"],"summary":"Get Form Lists","description":"Get a list of all XLSForms available in Field-TM.\n\nReturns:\n    dict: JSON of {id:title} with each XLSForm record.","operationId":"get_form_lists_central_list_forms_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{},"title":"Response Get Form Lists Central List Forms Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/validate-form":{"post":{"tags":["central"],"summary":"Validate Form","description":"Basic validity check for uploaded XLSForm.\n\nParses the form using ODK pyxform to check that it is valid.\n\nIf the `debug` param is used, the form is returned for inspection.\nNOTE that this debug form has additional fields appended and should\n    not be used for Field-TM project creation.\n\nNOTE this provides a basic sanity check, some fields are omitted\nso the form is not usable in production:\n    - new_geom_type","operationId":"validate_form_central_validate_form_post","parameters":[{"name":"debug","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Debug"}},{"name":"use_odk_collect","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Use Odk Collect"}},{"name":"need_verification_fields","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Need Verification Fields"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_validate_form_central_validate_form_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/update-form":{"post":{"tags":["central"],"summary":"Update Project Form","description":"Update the XForm data in ODK Central & Field-TM DB.","operationId":"update_project_form_central_update_form_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_project_form_central_update_form_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/download-form":{"get":{"tags":["central"],"summary":"Download Form","description":"Download the XLSForm for a project.","operationId":"download_form_central_download_form_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/refresh-appuser-token":{"post":{"tags":["central"],"summary":"Refresh Appuser Token","description":"Refreshes the token for the app user associated with a specific project.\n\nResponse:\n    {\n        \"status_code\": HTTPStatus.OK,\n        \"message\": \"App User token has been successfully refreshed.\",\n    }","operationId":"refresh_appuser_token_central_refresh_appuser_token_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/upload-form-media":{"post":{"tags":["central"],"summary":"Upload Form Media","description":"Upload media attachments to a form in Central.","operationId":"upload_form_media_central_upload_form_media_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_form_media_central_upload_form_media_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/get-form-media":{"post":{"tags":["central"],"summary":"Get Form Media","description":"Return the project form attachments as a list of files.","operationId":"get_form_media_central_get_form_media_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Get Form Media Central Get Form Media Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/central/entity":{"post":{"tags":["central"],"summary":"Add New Entity","description":"Create an Entity for the project in ODK.\n\nNOTE a FeatureCollection must be uploaded.\nNOTE response time is reasonably slow ~500ms due to Central round trip.","operationId":"add_new_entity_central_entity_post","parameters":[{"name":"entity_uuid","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Entity Uuid"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeatureCollection-Input"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Entity"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login/osm/management":{"get":{"tags":["auth"],"summary":"Get Osm Management Login Url","description":"Get Login URL for OSM Oauth Application.\n\nThe application must be registered on openstreetmap.org.\nOpen the download url returned to get access_token.\n\nArgs:\n    osm_auth: The Auth object from osm-login-python.\n\nReturns:\n    login_url (string): URL to authorize user in OSM.\n        Includes URL params: client_id, redirect_uri, permission scope.","operationId":"get_osm_management_login_url_auth_login_osm_management_get","parameters":[{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login/osm/mapper":{"get":{"tags":["auth"],"summary":"Get Osm Mapper Login Url","description":"Get Login URL for OSM Oauth Application.\n\nThe application must be registered on openstreetmap.org.\nOpen the download url returned to get access_token.\nThis endpoint is specifically for mapper page.\n\nArgs:\n    osm_auth: The Auth object from osm-login-python.\n\nReturns:\n    login_url (string): URL to authorize user in OSM.\n        Includes URL params: client_id, redirect_uri, permission scope.","operationId":"get_osm_mapper_login_url_auth_login_osm_mapper_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/login/google":{"get":{"tags":["auth"],"summary":"Login Url Google","description":"Get Login URL for Google Oauth Application.\n\nThe application must be registered with Google.\nOpen the URL returned to start Google authorization flow.\n\nArgs:\n    google_auth: The GoogleAuth object.\n\nReturns:\n    login_url (string): URL to authorize user in Google.","operationId":"login_url_google_auth_login_google_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/callback/osm":{"get":{"tags":["auth"],"summary":"Osm Callback","description":"Performs oauth token exchange with OpenStreetMap.\n\nProvides an access token that can be used for authenticating other endpoints.\nAlso returns a cookie containing the access token for persistence in frontend apps.","operationId":"osm_callback_auth_callback_osm_get","parameters":[{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/callback/osm/mapper":{"get":{"tags":["auth"],"summary":"Mapper Osm Callback","description":"Performs oauth token exchange with OpenStreetMap.\n\nProvides an access token that can be used for authenticating other endpoints.\nAlso returns a cookie containing the access token for persistence in frontend apps.","operationId":"mapper_osm_callback_auth_callback_osm_mapper_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/callback/google":{"get":{"tags":["auth"],"summary":"Google Callback","description":"Performs oauth token exchange with Google.\n\nProvides an access token that can be used for authenticating other endpoints.\nAlso returns a cookie containing the access token for persistence in frontend apps.","operationId":"google_callback_auth_callback_google_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/logout":{"get":{"tags":["auth"],"summary":"Logout","description":"Reset httpOnly cookie to sign out user.","operationId":"logout_auth_logout_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"}}}},"/auth/me":{"get":{"tags":["auth"],"summary":"My Data","description":"Read access token and get user details.\n\nArgs:\n    db (Connection): The db connection.\n    current_user (AuthUser): User data provided by authentication.\n\nReturns:\n    FMTMUser: The dict of user data.","operationId":"my_data_auth_me_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FMTMUser"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh/management":{"get":{"tags":["auth"],"summary":"Refresh Management Cookies","description":"Uses the refresh token to generate a new access token.\n\nThis endpoint is specific to the management desktop frontend.\nAuthentication is required.\nIf signed in with login method other than OSM, the user will be logged out and\na forbidden status will be returned.\n\nNOTE this endpoint has no db calls and returns in ~2ms.","operationId":"refresh_management_cookies_auth_refresh_management_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FMTMUser"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh/mapper":{"get":{"tags":["auth"],"summary":"Refresh Mapper Token","description":"Uses the refresh token to generate a new access token.\n\nThis endpoint is specific to the mapper mobile frontend.\nBy default the user will be logged in with a service account.\nAuthentication is optional, if the user wishes to be attributed for contributions.\n\nNOTE this endpoint has no db calls and returns in ~2ms.","operationId":"refresh_mapper_token_auth_refresh_mapper_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/FMTMUser"},{"type":"null"}],"title":"Response Refresh Mapper Token Auth Refresh Mapper Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission":{"get":{"tags":["submission"],"summary":"Read Submissions","description":"Get all submissions made for a project.\n\nReturns:\n    list[dict]: The list of submissions.","operationId":"read_submissions_submission_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Read Submissions Submission Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["submission"],"summary":"Create Submission","description":"Create a new submission via ODK Central REST endpoint.\n\nTypically it would be best to use the OpenRosa submission endpoint,\nas used by ODK Collect.\n\nHowever, for now ODK Web Forms do not have direct ODK Central access\nconfigured. Meaning we must handle getting forms and submitting new\ndata to ODK Central within Field-TM.\n\nThis endpoint helps to facilitate, by allowing submission, alongside\nany form attachments, via the ODK Central REST API (via pyodk),","operationId":"create_submission_submission_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_submission_submission_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Submission"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/download":{"get":{"tags":["submission"],"summary":"Download Submission","description":"Download the submissions for a given project.\n\nReturns a JSON, CSV, or GeoJSON file.","operationId":"download_submission_submission_download_get","parameters":[{"name":"file_type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/SubmissionDownloadType"}},{"name":"submitted_date_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted Date Range","description":"Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')"},"description":"Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')"},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/get-submission-count":{"get":{"tags":["submission"],"summary":"Get Submission Count","description":"Get the submission count for a project.","operationId":"get_submission_count_submission_get_submission_count_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/submission-form-fields":{"get":{"tags":["submission"],"summary":"Get Submission Form Fields","description":"Retrieves the submission form for a specific project.\n\nReturns:\n    Any: The response from the submission form API.","operationId":"get_submission_form_fields_submission_submission_form_fields_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/submission-table":{"get":{"tags":["submission"],"summary":"Submission Table","description":"This api returns the submission table of a project.\n\nReturns:\n    dict: Paginated submissions with `results` and `pagination` keys.","operationId":"submission_table_submission_submission_table_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":13,"title":"Results Per Page"}},{"name":"task_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Id"}},{"name":"submitted_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted By"}},{"name":"review_state","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Review State"}},{"name":"submitted_date_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submitted Date Range","description":"Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')"},"description":"Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')"},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/update-review-state":{"post":{"tags":["submission"],"summary":"Update Review State","description":"Updates the review state of a project submission.","operationId":"update_review_state_submission_update_review_state_post","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewStateIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewStateOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/conflate-submission-geojson":{"get":{"tags":["submission"],"summary":"Conflate Geojson","description":"Conflates the input GeoJSON with OpenStreetMap data.\n\nReturns:\n    str: Updated GeoJSON string with conflated features.","operationId":"conflate_geojson_submission_conflate_submission_geojson_get","parameters":[{"name":"remove_conflated","in":"query","required":false,"schema":{"type":"boolean","description":"Removes geometries not overlapping with OSM data","default":false,"title":"Remove Conflated"},"description":"Removes geometries not overlapping with OSM data"},{"name":"task_id","in":"query","required":true,"schema":{"type":"integer","title":"Task Id"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/{submission_id}/photos":{"get":{"tags":["submission"],"summary":"Submission Photos","description":"This api returns the submission detail of individual submission.\n\nNOTE Prerequisites:\n\n1) The ODK server must have the S3_ENDPOINT param set to enable\n   S3 media uploads.\n\n   If it's not set, then these URLs will be direct downloads from ODK\n   (requiring auth).\n\n   If the S3 is configured, then these URLs should be pre-signed download\n   links to S3.\n\n2) The media is uploaded to S3 by using `node lib/bin/s3.js upload-pending`\n   in the Central container (this is triggered automatically every 24hrs).","operationId":"submission_photos_submission__submission_id__photos_get","parameters":[{"name":"submission_id","in":"path","required":true,"schema":{"type":"string","title":"Submission Id"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Submission Photos Submission  Submission Id  Photos Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/{project_id}/dashboard":{"get":{"tags":["submission"],"summary":"Project Submission Dashboard","description":"Get the project dashboard details.","operationId":"project_submission_dashboard_submission__project_id__dashboard_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmissionDashboard"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submission/{submission_id}":{"get":{"tags":["submission"],"summary":"Submission Detail","description":"This api returns the submission detail of individual submission.","operationId":"submission_detail_submission__submission_id__get","parameters":[{"name":"submission_id","in":"path","required":true,"schema":{"type":"string","title":"Submission Id"}},{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Submission Detail Submission  Submission Id  Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation":{"get":{"tags":["organisation"],"summary":"Get Organisations","description":"Get a list of all organisations.","operationId":"get_organisations_organisation_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationOut"},"title":"Response Get Organisations Organisation Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["organisation"],"summary":"Create Organisation","description":"Create an organisation with the given details.\n\nEither a logo can be uploaded, or a link to the logo provided\nin the Organisation JSON ('logo': 'https://your.link.to.logo.png').","operationId":"create_organisation_organisation_post","parameters":[{"name":"request_odk_server","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Request Odk Server"}},{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_organisation_organisation_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/my-organisations":{"get":{"tags":["organisation"],"summary":"Get My Organisations","description":"Get a list of all organisations.","operationId":"get_my_organisations_organisation_my_organisations_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationOut"},"title":"Response Get My Organisations Organisation My Organisations Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/unapproved":{"get":{"tags":["organisation"],"summary":"List Unapproved Organisations","description":"Get a list of unapproved organisations.","operationId":"list_unapproved_organisations_organisation_unapproved_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationOut"},"title":"Response List Unapproved Organisations Organisation Unapproved Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/unapproved/{org_id}":{"delete":{"tags":["organisation"],"summary":"Delete Unapproved Org","description":"Delete an unapproved organisation.\n\nNOTE this endpoint is required as\n    org_user_dict: Annotated[OrgUserDict, Depends(org_admin)]\nwill also check if the organisation is approved and error if it's not.\nThis is an ADMIN-only endpoint for deleting unapproved orgs.","operationId":"delete_unapproved_org_organisation_unapproved__org_id__delete","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/approve":{"post":{"tags":["organisation"],"summary":"Approve Organisation","description":"Approve the organisation request made by the user.\n\nThe logged in user must be super admin to perform this action.\n\nA background task notifies the organisation creator.","operationId":"approve_organisation_organisation_approve_post","parameters":[{"name":"org_id","in":"query","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"set_primary_org_odk_server","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Set Primary Org Odk Server"}},{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/new-admin":{"post":{"tags":["organisation"],"summary":"Add New Organisation Admin","description":"Add a new organisation admin.\n\nThe logged in user must be either the owner of the organisation or a super admin.","operationId":"add_new_organisation_admin_organisation_new_admin_post","parameters":[{"name":"user_sub","in":"query","required":true,"schema":{"type":"string","title":"User Sub"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/org-admins":{"get":{"tags":["organisation"],"summary":"Get Organisation Admins","description":"Get the list of organisation admins.","operationId":"get_organisation_admins_organisation_org_admins_get","parameters":[{"name":"org_id","in":"query","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrgManagersOut"},"title":"Response Get Organisation Admins Organisation Org Admins Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/{org_id}":{"get":{"tags":["organisation"],"summary":"Get Organisation Detail","description":"Get a specific organisation by id or name.","operationId":"get_organisation_detail_organisation__org_id__get","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["organisation"],"summary":"Update Organisation","description":"Partial update for an existing organisation.","operationId":"update_organisation_organisation__org_id__patch","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_organisation_organisation__org_id__patch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOut"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["organisation"],"summary":"Delete Org","description":"Delete an organisation.","operationId":"delete_org_organisation__org_id__delete","parameters":[{"name":"org_id","in":"path","required":true,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organisation/org-admin/{user_sub}":{"delete":{"tags":["organisation"],"summary":"Remove Organisation Admin","description":"Remove an organization admin.\n\nThe logged in user must be either the admin of the organization or a super admin.\nUsers cannot delete their own admin role.\n\nArgs:\n    user_sub: The subject ID of the user to remove as admin\n    db: Database connection\n    org_user_dict: Dictionary containing authenticated user and organization info\n\nReturns:\n    204 No Content on success\n\nRaises:\n    HTTPException: 400 if attempting to delete own role","operationId":"remove_organisation_admin_organisation_org_admin__user_sub__delete","parameters":[{"name":"user_sub","in":"path","required":true,"schema":{"type":"string","title":"User Sub"}},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/api-key":{"get":{"tags":["integrations"],"summary":"Get Api Key","description":"Generate and return a new API key.\n\nThis can only be accessed once, and is regenerated on\neach call to this endpoint.\n\nBe sure to store it someplace safe, like a password manager.\n\nNOTE currently requires super admin permission.","operationId":"get_api_key_integrations_api_key_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/webhooks/entity-status":{"post":{"tags":["integrations"],"summary":"Update Entity Status From Webhook","description":"ODK Central webhook triggers.\n\nThese are required to trigger the replication to users via electric-sql.\n\nTODO perhaps these should be separated out, as the review action\ndoes not require a db connection.","operationId":"update_entity_status_from_webhook_integrations_webhooks_entity_status_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OdkCentralWebhookRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/integrations/new-user":{"post":{"tags":["integrations"],"summary":"Create New User From External Platform","description":"Create a new user and generate a login token / cookie.\n\nThis endpoint is used by managers, likely via API Key to generate\nusers from an external system in FieldTM, and authenticate the user\nin advance for easy access to FieldTM.\n\nNOTE if the provider & ID combination already exists, the user\ndetails will be overwritten (allowing for updates for profile\npicture, username, etc).","operationId":"create_new_user_from_external_platform_integrations_new_user_post","parameters":[{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Project Id"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"null"}],"title":"Org Id"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalUserIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/download-template-xlsform":{"get":{"tags":["helper"],"summary":"Download Template","description":"Download example XLSForm from Field-TM.","operationId":"download_template_helper_download_template_xlsform_get","parameters":[{"name":"form_type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/XLSFormType"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/append-geojson-properties":{"post":{"tags":["helper"],"summary":"Append Required Geojson Properties","description":"Append required properties to a GeoJSON file.\n\nThe required properties for Field-TM are:\n- \"id\"\n- \"osm_id\"\n- \"tags\"\n- \"version\"\n- \"changeset\"\n- \"timestamp\"\n\nThese are added automatically if missing during the project creation workflow.\nHowever it may be useful to run your file through this endpoint to validation.","operationId":"append_required_geojson_properties_helper_append_geojson_properties_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_append_required_geojson_properties_helper_append_geojson_properties_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/convert-geojson-to-odk-csv":{"post":{"tags":["helper"],"summary":"Convert Geojson To Odk Csv Wrapper","description":"Convert GeoJSON upload media to ODK CSV upload media.","operationId":"convert_geojson_to_odk_csv_wrapper_helper_convert_geojson_to_odk_csv_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_convert_geojson_to_odk_csv_wrapper_helper_convert_geojson_to_odk_csv_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/create-entities-from-csv":{"post":{"tags":["helper"],"summary":"Create Entities From Csv","description":"Upload a CSV file to create new ODK Entities in a project.\n\nThe Entity must already be defined on the server.\nThe CSV fields must match the Entity fields.","operationId":"create_entities_from_csv_helper_create_entities_from_csv_post","parameters":[{"name":"odk_project_id","in":"query","required":true,"schema":{"type":"integer","title":"Odk Project Id"}},{"name":"entity_name","in":"query","required":true,"schema":{"type":"string","title":"Entity Name"}},{"name":"odk_central_url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"}},{"name":"odk_central_user","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"}},{"name":"odk_central_password","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_entities_from_csv_helper_create_entities_from_csv_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/javarosa-geom-to-geojson":{"post":{"tags":["helper"],"summary":"Convert Javarosa Geom To Geojson","description":"Convert a JavaRosa geometry string to GeoJSON.","operationId":"convert_javarosa_geom_to_geojson_helper_javarosa_geom_to_geojson_post","parameters":[{"name":"javarosa_string","in":"query","required":true,"schema":{"type":"string","title":"Javarosa String"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/convert-odk-submission-json-to-geojson":{"post":{"tags":["helper"],"summary":"Convert Odk Submission Json To Geojson Wrapper","description":"Convert the ODK submission output JSON to GeoJSON.\n\nThe submission JSON be downloaded via ODK Central, or osm-fieldwork.\nThe logic works with the standardised XForm form fields from osm-fieldwork.","operationId":"convert_odk_submission_json_to_geojson_wrapper_helper_convert_odk_submission_json_to_geojson_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_convert_odk_submission_json_to_geojson_wrapper_helper_convert_odk_submission_json_to_geojson_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/view-raw-data-api-token":{"get":{"tags":["helper"],"summary":"Get Raw Data Api Osm Token","description":"Get the OSM OAuth token for a service account for raw-data-api.\n\nThe token returned by this endpoint should be used for the\nRAW_DATA_API_AUTH_TOKEN environment variable.","operationId":"get_raw_data_api_osm_token_helper_view_raw_data_api_token_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/view-field-tm-api-token":{"get":{"tags":["helper"],"summary":"View User Oauth Token","description":"Get the Field-TM OSM (OAuth) token for a logged in user.\n\nThe token is encrypted with a secret key and only usable via\nthis Field-TM instance and the osm-login-python module.","operationId":"view_user_oauth_token_helper_view_field_tm_api_token_get","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/multipolygons-to-polygons":{"post":{"tags":["helper"],"summary":"Flatten Multipolygons To Polygons","description":"If any MultiPolygons are present, replace with multiple Polygons.","operationId":"flatten_multipolygons_to_polygons_helper_multipolygons_to_polygons_post","parameters":[{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_flatten_multipolygons_to_polygons_helper_multipolygons_to_polygons_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/send-test-osm-message":{"post":{"tags":["helper"],"summary":"Send Test Osm Message","description":"Sends a test message to currently logged in OSM user.","operationId":"send_test_osm_message_helper_send_test_osm_message_post","parameters":[{"name":"mapper","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mapper"}},{"name":"access-token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access-Token"}},{"name":"x-api-key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/helper/send-test-email":{"post":{"tags":["helper"],"summary":"Send Test Email","description":"Sends a test email using real SMTP settings.","operationId":"send_test_email_helper_send_test_email_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"User Emails"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Home","description":"Redirect home to docs.","operationId":"home__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/__version__":{"get":{"summary":"Deployment Details","description":"Mozilla Dockerflow Spec: source, version, commit, and link to CI build.","operationId":"deployment_details___version___get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/__heartbeat__":{"get":{"summary":"Heartbeat Plus Db","description":"Heartbeat that checks that API and DB are both up and running.","operationId":"heartbeat_plus_db___heartbeat___get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/__lbheartbeat__":{"get":{"summary":"Simple Heartbeat","description":"Simple ping/pong API response.","operationId":"simple_heartbeat___lbheartbeat___get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BaseModel":{"properties":{},"type":"object","title":"BaseModel"},"BasemapGenerate":{"properties":{"tile_source":{"type":"string","enum":["esri","bing","google","custom"],"title":"Tile Source","default":"esri"},"file_format":{"type":"string","enum":["mbtiles","sqlitedb","pmtiles"],"title":"File Format","default":"mbtiles"},"tms_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tms Url"}},"type":"object","title":"BasemapGenerate","description":"Params to generate a new basemap."},"BasemapOut":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"tile_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tile Source"},"background_task_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Background Task Id"},"status":{"anyOf":[{"$ref":"#/components/schemas/app__db__enums__BackgroundTaskStatus"},{"type":"null"}]},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"bbox":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Bbox"},"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format","description":"Get the basemap format from file extension.","readOnly":true},"mimetype":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mimetype","description":"Set the mimetype based on the extension.","readOnly":true}},"type":"object","required":["id","format","mimetype"],"title":"BasemapOut","description":"Basemap tile list for a project."},"Body_add_additional_entity_list_projects__project_id__additional_entity_post":{"properties":{"geojson":{"type":"string","format":"binary","title":"Geojson"}},"type":"object","required":["geojson"],"title":"Body_add_additional_entity_list_projects__project_id__additional_entity_post"},"Body_append_required_geojson_properties_helper_append_geojson_properties_post":{"properties":{"geojson":{"type":"string","format":"binary","title":"Geojson"}},"type":"object","required":["geojson"],"title":"Body_append_required_geojson_properties_helper_append_geojson_properties_post"},"Body_convert_geojson_to_odk_csv_wrapper_helper_convert_geojson_to_odk_csv_post":{"properties":{"geojson":{"type":"string","format":"binary","title":"Geojson"}},"type":"object","required":["geojson"],"title":"Body_convert_geojson_to_odk_csv_wrapper_helper_convert_geojson_to_odk_csv_post"},"Body_convert_odk_submission_json_to_geojson_wrapper_helper_convert_odk_submission_json_to_geojson_post":{"properties":{"json_file":{"type":"string","format":"binary","title":"Json File"}},"type":"object","required":["json_file"],"title":"Body_convert_odk_submission_json_to_geojson_wrapper_helper_convert_odk_submission_json_to_geojson_post"},"Body_create_entities_from_csv_helper_create_entities_from_csv_post":{"properties":{"csv_file":{"type":"string","format":"binary","title":"Csv File"}},"type":"object","required":["csv_file"],"title":"Body_create_entities_from_csv_helper_create_entities_from_csv_post"},"Body_create_organisation_organisation_post":{"properties":{"logo":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Logo"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By"},"community_type":{"$ref":"#/components/schemas/CommunityType"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"associated_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Associated Email"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"type":{"$ref":"#/components/schemas/OrganisationType"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"}},"type":"object","title":"Body_create_organisation_organisation_post"},"Body_create_submission_submission_post":{"properties":{"submission_xml":{"type":"string","title":"Submission Xml"},"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id"},"submission_files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Submission Files"}},"type":"object","required":["submission_xml"],"title":"Body_create_submission_submission_post"},"Body_flatten_multipolygons_to_polygons_helper_multipolygons_to_polygons_post":{"properties":{"geojson":{"type":"string","format":"binary","title":"Geojson"}},"type":"object","required":["geojson"],"title":"Body_flatten_multipolygons_to_polygons_helper_multipolygons_to_polygons_post"},"Body_generate_files_projects__project_id__generate_project_data_post":{"properties":{"combined_features_count":{"type":"integer","title":"Combined Features Count","default":0},"xlsform":{"type":"string","format":"binary","title":"Xlsform"}},"type":"object","required":["xlsform"],"title":"Body_generate_files_projects__project_id__generate_project_data_post"},"Body_get_data_extract_projects_generate_data_extract_post":{"properties":{"geojson_file":{"type":"string","format":"binary","title":"Geojson File"},"osm_category":{"anyOf":[{"$ref":"#/components/schemas/XLSFormType"},{"type":"null"}],"default":"OSM Buildings"},"centroid":{"type":"boolean","title":"Centroid","default":false},"geom_type":{"$ref":"#/components/schemas/DbGeomType","default":"POLYGON"}},"type":"object","required":["geojson_file"],"title":"Body_get_data_extract_projects_generate_data_extract_post"},"Body_preview_split_by_square_projects_preview_split_by_square_post":{"properties":{"project_geojson":{"type":"string","format":"binary","title":"Project Geojson"},"extract_geojson":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Extract Geojson"},"dimension_meters":{"type":"integer","title":"Dimension Meters","default":100}},"type":"object","required":["project_geojson"],"title":"Body_preview_split_by_square_projects_preview_split_by_square_post"},"Body_task_split_projects_task_split_post":{"properties":{"project_geojson":{"type":"string","format":"binary","title":"Project Geojson"},"extract_geojson":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Extract Geojson"},"no_of_buildings":{"type":"integer","title":"No Of Buildings","default":50}},"type":"object","required":["project_geojson"],"title":"Body_task_split_projects_task_split_post"},"Body_update_organisation_organisation__org_id__patch":{"properties":{"logo":{"type":"string","format":"binary","title":"Logo"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By"},"community_type":{"$ref":"#/components/schemas/CommunityType"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"associated_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Associated Email"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"type":{"$ref":"#/components/schemas/OrganisationType"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"}},"type":"object","title":"Body_update_organisation_organisation__org_id__patch"},"Body_update_project_form_central_update_form_post":{"properties":{"xform_id":{"type":"string","title":"Xform Id"},"xlsform":{"type":"string","format":"binary","title":"Xlsform"}},"type":"object","required":["xform_id","xlsform"],"title":"Body_update_project_form_central_update_form_post"},"Body_upload_data_extract_projects_upload_data_extract_post":{"properties":{"data_extract_file":{"type":"string","format":"binary","title":"Data Extract File"}},"type":"object","required":["data_extract_file"],"title":"Body_upload_data_extract_projects_upload_data_extract_post"},"Body_upload_form_media_central_upload_form_media_post":{"properties":{"media_uploads":{"items":{"type":"string","format":"binary"},"type":"array","title":"Media Uploads"}},"type":"object","required":["media_uploads"],"title":"Body_upload_form_media_central_upload_form_media_post"},"Body_upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post":{"properties":{"task_geojson":{"type":"string","format":"binary","title":"Task Geojson"}},"type":"object","required":["task_geojson"],"title":"Body_upload_project_task_boundaries_projects__project_id__upload_task_boundaries_post"},"Body_validate_form_central_validate_form_post":{"properties":{"xlsform":{"type":"string","format":"binary","title":"Xlsform"}},"type":"object","required":["xlsform"],"title":"Body_validate_form_central_validate_form_post"},"CommunityType":{"type":"string","enum":["OSM_COMMUNITY","COMPANY","NON_PROFIT","UNIVERSITY","OTHER"],"title":"CommunityType","description":"Community type."},"CurrentVersion":{"properties":{"label":{"type":"string","title":"Label"},"current":{"type":"boolean","title":"Current"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"creatorId":{"type":"integer","title":"Creatorid"},"userAgent":{"type":"string","title":"Useragent"},"version":{"type":"integer","title":"Version"},"data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Data"},"baseVersion":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Baseversion"},"conflictingProperties":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Conflictingproperties"}},"type":"object","required":["label","current","createdAt","creatorId","userAgent","version"],"title":"CurrentVersion"},"DbGeomType":{"type":"string","enum":["POINT","POLYGON","POLYLINE"],"title":"DbGeomType","description":"Enum in the database, all geom types are in caps."},"DbProject":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"outline":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Outline"},"odkid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Odkid"},"author_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Sub"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"custom_tms_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Tms Url"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/ProjectVisibility"},{"type":"null"}]},"osm_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Category"},"odk_form_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Id"},"odk_form_xml":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Xml"},"xlsform_content":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Xlsform Content"},"mapper_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"priority":{"anyOf":[{"$ref":"#/components/schemas/ProjectPriority"},{"type":"null"}]},"featured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Featured"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"},"data_extract_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Url"},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"primary_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"new_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"geo_restrict_distance_meters":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Geo Restrict Distance Meters"},"geo_restrict_force_error":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Geo Restrict Force Error"},"use_odk_collect":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Odk Collect"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"tasks":{"anyOf":[{"items":{"$ref":"#/components/schemas/DbTask"},"type":"array"},{"type":"null"}],"title":"Tasks"},"organisation_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Name"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"centroid":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Centroid"},"bbox":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Bbox"},"last_active":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"},"odk_credentials":{"anyOf":[{"$ref":"#/components/schemas/ODKCentralDecrypted"},{"type":"null"}]},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks"},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors"},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions","default":0},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped","default":0},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated","default":0},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad","default":0}},"type":"object","required":["id","name"],"title":"DbProject","description":"Table projects."},"DbTask":{"properties":{"id":{"type":"integer","title":"Id"},"outline":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Outline"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"project_task_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Task Index"},"feature_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Feature Count"},"task_state":{"anyOf":[{"$ref":"#/components/schemas/MappingState"},{"type":"null"}]},"actioned_by_uid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actioned By Uid"},"actioned_by_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actioned By Username"}},"type":"object","required":["id"],"title":"DbTask","description":"Table tasks."},"DbUserInvite":{"properties":{"token":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Token"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"osm_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Username"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"role":{"anyOf":[{"$ref":"#/components/schemas/ProjectRole"},{"type":"null"}]},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Used At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","title":"DbUserInvite","description":"Table user_invites."},"Entity":{"properties":{"uuid":{"type":"string","title":"Uuid"},"creatorId":{"type":"integer","title":"Creatorid"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"currentVersion":{"$ref":"#/components/schemas/CurrentVersion"},"conflict":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict"},"updatedAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updatedat"},"deletedAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deletedat"}},"type":"object","required":["uuid","creatorId","createdAt","currentVersion"],"title":"Entity"},"EntityFeature":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["Feature"],"const":"Feature","title":"Type"},"geometry":{"anyOf":[{"oneOf":[{"$ref":"#/components/schemas/Point"},{"$ref":"#/components/schemas/MultiPoint"},{"$ref":"#/components/schemas/LineString"},{"$ref":"#/components/schemas/MultiLineString"},{"$ref":"#/components/schemas/Polygon"},{"$ref":"#/components/schemas/MultiPolygon"},{"$ref":"#/components/schemas/GeometryCollection-Output"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Output","LineString":"#/components/schemas/LineString","MultiLineString":"#/components/schemas/MultiLineString","MultiPoint":"#/components/schemas/MultiPoint","MultiPolygon":"#/components/schemas/MultiPolygon","Point":"#/components/schemas/Point","Polygon":"#/components/schemas/Polygon"}}},{"type":"null"}],"title":"Geometry"},"properties":{"$ref":"#/components/schemas/EntityProperties"},"id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Id"}},"type":"object","required":["type","geometry","properties"],"title":"EntityFeature","description":"ODK Entities as a GeoJSON Feature."},"EntityFeatureCollection":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["FeatureCollection"],"const":"FeatureCollection","title":"Type"},"features":{"items":{"$ref":"#/components/schemas/EntityFeature"},"type":"array","title":"Features"}},"type":"object","required":["type","features"],"title":"EntityFeatureCollection","description":"ODK Entity Features wrapped in a FeatureCollection."},"EntityMappingStatus":{"properties":{"id":{"type":"string","title":"Id"},"task_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Id"},"osm_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Osm Id"},"status":{"anyOf":[{"$ref":"#/components/schemas/EntityState"},{"type":"null"}]},"submission_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submission Ids"},"geometry":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geometry"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By"},"updated_at":{"anyOf":[{"type":"string"},{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At","description":"Convert updatedAt field to updated_at.","readOnly":true}},"type":"object","required":["id","updated_at"],"title":"EntityMappingStatus","description":"The status for mapping an Entity/feature."},"EntityMappingStatusIn":{"properties":{"entity_id":{"type":"string","title":"Entity Id"},"status":{"$ref":"#/components/schemas/EntityState"},"label":{"type":"string","title":"Label"},"submission_ids":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Submission Ids"}},"type":"object","required":["entity_id","status","label"],"title":"EntityMappingStatusIn","description":"Update the mapping status for an Entity."},"EntityOsmID":{"properties":{"id":{"type":"string","title":"Id"},"osm_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Osm Id"}},"type":"object","required":["id"],"title":"EntityOsmID","description":"Map of Entity UUID to OSM Feature ID."},"EntityProperties":{"properties":{"task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Id"},"osm_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Id"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"changeset":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Changeset"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At","description":"Convert updatedAt field to updated_at.","readOnly":true}},"type":"object","required":["updated_at"],"title":"EntityProperties","description":"ODK Entity properties to include in GeoJSON."},"EntityState":{"type":"integer","enum":[0,1,2,5,6],"title":"EntityState","description":"State options for Entities in ODK.\n\nNOTE here we started with int enums and it's hard to migrate.\nNOTE we will continue to use int values in the form.\nNOTE we keep BAD=6 for legacy reasons too."},"EntityTaskID":{"properties":{"id":{"type":"string","title":"Id"},"task_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Id"}},"type":"object","required":["id"],"title":"EntityTaskID","description":"Map of Entity UUID to Field-TM Task ID."},"ExternalUserIn":{"properties":{"id":{"type":"string","title":"Id"},"platform":{"type":"string","title":"Platform"},"username":{"type":"string","title":"Username"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"picture":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Picture"}},"type":"object","required":["id","platform","username"],"title":"ExternalUserIn","description":"Create a FieldTM user from an external platform."},"FMTMUser":{"properties":{"sub":{"type":"string","title":"Sub"},"username":{"type":"string","title":"Username"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"picture":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Picture"},"role":{"anyOf":[{"$ref":"#/components/schemas/UserRole"},{"type":"null"}],"default":"MAPPER"},"project_roles":{"anyOf":[{"additionalProperties":{"$ref":"#/components/schemas/ProjectRole"},"type":"object"},{"type":"null"}],"title":"Project Roles"},"orgs_managed":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Orgs Managed"}},"type":"object","required":["sub","username"],"title":"FMTMUser","description":"User details returned to the frontend."},"Feature-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["Feature"],"const":"Feature","title":"Type"},"geometry":{"anyOf":[{"oneOf":[{"$ref":"#/components/schemas/Point"},{"$ref":"#/components/schemas/MultiPoint"},{"$ref":"#/components/schemas/LineString"},{"$ref":"#/components/schemas/MultiLineString"},{"$ref":"#/components/schemas/Polygon"},{"$ref":"#/components/schemas/MultiPolygon"},{"$ref":"#/components/schemas/GeometryCollection-Input"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Input","LineString":"#/components/schemas/LineString","MultiLineString":"#/components/schemas/MultiLineString","MultiPoint":"#/components/schemas/MultiPoint","MultiPolygon":"#/components/schemas/MultiPolygon","Point":"#/components/schemas/Point","Polygon":"#/components/schemas/Polygon"}}},{"type":"null"}],"title":"Geometry"},"properties":{"anyOf":[{"type":"object"},{"$ref":"#/components/schemas/BaseModel"},{"type":"null"}],"title":"Properties"},"id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Id"}},"type":"object","required":["type","geometry","properties"],"title":"Feature","description":"Feature Model"},"Feature-Output":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["Feature"],"const":"Feature","title":"Type"},"geometry":{"anyOf":[{"oneOf":[{"$ref":"#/components/schemas/Point"},{"$ref":"#/components/schemas/MultiPoint"},{"$ref":"#/components/schemas/LineString"},{"$ref":"#/components/schemas/MultiLineString"},{"$ref":"#/components/schemas/Polygon"},{"$ref":"#/components/schemas/MultiPolygon"},{"$ref":"#/components/schemas/GeometryCollection-Output"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Output","LineString":"#/components/schemas/LineString","MultiLineString":"#/components/schemas/MultiLineString","MultiPoint":"#/components/schemas/MultiPoint","MultiPolygon":"#/components/schemas/MultiPolygon","Point":"#/components/schemas/Point","Polygon":"#/components/schemas/Polygon"}}},{"type":"null"}],"title":"Geometry"},"properties":{"anyOf":[{"type":"object"},{"$ref":"#/components/schemas/BaseModel"},{"type":"null"}],"title":"Properties"},"id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Id"}},"type":"object","required":["type","geometry","properties"],"title":"Feature","description":"Feature Model"},"FeatureCollection-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["FeatureCollection"],"const":"FeatureCollection","title":"Type"},"features":{"items":{"$ref":"#/components/schemas/Feature-Input"},"type":"array","title":"Features"}},"type":"object","required":["type","features"],"title":"FeatureCollection","description":"FeatureCollection Model"},"FeatureCollection-Output":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["FeatureCollection"],"const":"FeatureCollection","title":"Type"},"features":{"items":{"$ref":"#/components/schemas/Feature-Output"},"type":"array","title":"Features"}},"type":"object","required":["type","features"],"title":"FeatureCollection","description":"FeatureCollection Model"},"GeometryCollection-Input":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["GeometryCollection"],"const":"GeometryCollection","title":"Type"},"geometries":{"items":{"oneOf":[{"$ref":"#/components/schemas/Point"},{"$ref":"#/components/schemas/MultiPoint"},{"$ref":"#/components/schemas/LineString"},{"$ref":"#/components/schemas/MultiLineString"},{"$ref":"#/components/schemas/Polygon"},{"$ref":"#/components/schemas/MultiPolygon"},{"$ref":"#/components/schemas/GeometryCollection-Input"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Input","LineString":"#/components/schemas/LineString","MultiLineString":"#/components/schemas/MultiLineString","MultiPoint":"#/components/schemas/MultiPoint","MultiPolygon":"#/components/schemas/MultiPolygon","Point":"#/components/schemas/Point","Polygon":"#/components/schemas/Polygon"}}},"type":"array","title":"Geometries"}},"type":"object","required":["type","geometries"],"title":"GeometryCollection","description":"GeometryCollection Model"},"GeometryCollection-Output":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["GeometryCollection"],"const":"GeometryCollection","title":"Type"},"geometries":{"items":{"oneOf":[{"$ref":"#/components/schemas/Point"},{"$ref":"#/components/schemas/MultiPoint"},{"$ref":"#/components/schemas/LineString"},{"$ref":"#/components/schemas/MultiLineString"},{"$ref":"#/components/schemas/Polygon"},{"$ref":"#/components/schemas/MultiPolygon"},{"$ref":"#/components/schemas/GeometryCollection-Output"}],"discriminator":{"propertyName":"type","mapping":{"GeometryCollection":"#/components/schemas/GeometryCollection-Output","LineString":"#/components/schemas/LineString","MultiLineString":"#/components/schemas/MultiLineString","MultiPoint":"#/components/schemas/MultiPoint","MultiPolygon":"#/components/schemas/MultiPolygon","Point":"#/components/schemas/Point","Polygon":"#/components/schemas/Polygon"}}},"type":"array","title":"Geometries"}},"type":"object","required":["type","geometries"],"title":"GeometryCollection","description":"GeometryCollection Model"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LineString":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["LineString"],"const":"LineString","title":"Type"},"coordinates":{"items":{"anyOf":[{"$ref":"#/components/schemas/Position2D"},{"$ref":"#/components/schemas/Position3D"}]},"type":"array","minItems":2,"title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"LineString","description":"LineString Model"},"MappingLevel":{"type":"string","enum":["BEGINNER","INTERMEDIATE","ADVANCED"],"title":"MappingLevel","description":"The mapping level the mapper has achieved."},"MappingState":{"type":"string","enum":["UNLOCKED_TO_MAP","LOCKED_FOR_MAPPING","UNLOCKED_TO_VALIDATE","LOCKED_FOR_VALIDATION","UNLOCKED_DONE"],"title":"MappingState","description":"State options for tasks in Field-TM.\n\nNOTE We no longer have states invalidated / bad, and instead rely on the\nEntityState.MARKED_BAD buildings to display red on the map."},"MultiLineString":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["MultiLineString"],"const":"MultiLineString","title":"Type"},"coordinates":{"items":{"items":{"anyOf":[{"$ref":"#/components/schemas/Position2D"},{"$ref":"#/components/schemas/Position3D"}]},"type":"array","minItems":2},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"MultiLineString","description":"MultiLineString Model"},"MultiPoint":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["MultiPoint"],"const":"MultiPoint","title":"Type"},"coordinates":{"items":{"anyOf":[{"$ref":"#/components/schemas/Position2D"},{"$ref":"#/components/schemas/Position3D"}]},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"MultiPoint","description":"MultiPoint Model"},"MultiPolygon":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["MultiPolygon"],"const":"MultiPolygon","title":"Type"},"coordinates":{"items":{"items":{"items":{"anyOf":[{"$ref":"#/components/schemas/Position2D"},{"$ref":"#/components/schemas/Position3D"}]},"type":"array","minItems":4},"type":"array"},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"MultiPolygon","description":"MultiPolygon Model"},"ODKCentralDecrypted":{"properties":{"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"}},"type":"object","title":"ODKCentralDecrypted","description":"ODK Central credentials extracted from database.\n\nWARNING never return this as a response model.\nWARNING or log to the terminal."},"OdkCentralWebhookRequest":{"properties":{"type":{"$ref":"#/components/schemas/OdkWebhookEvents"},"id":{"type":"string","title":"Id"},"data":{"type":"object","title":"Data"}},"type":"object","required":["type","id","data"],"title":"OdkCentralWebhookRequest","description":"The POST data from the central webhook service."},"OdkWebhookEvents":{"type":"string","enum":["entity.update.version","submission.create","submission.update"],"title":"OdkWebhookEvents","description":"Types of events received from ODK Central webhook."},"OrgManagersOut":{"properties":{"user_sub":{"type":"string","title":"User Sub"},"username":{"type":"string","title":"Username"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"}},"type":"object","required":["user_sub","username"],"title":"OrgManagersOut","description":"Detail of Organisation Managers."},"OrganisationOut":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"approved":{"type":"boolean","title":"Approved"},"type":{"$ref":"#/components/schemas/OrganisationType"},"community_type":{"$ref":"#/components/schemas/CommunityType"},"logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Logo"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"associated_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Associated Email"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"}},"type":"object","required":["id","name","approved","type","community_type","logo","description","slug","url","associated_email","odk_central_url"],"title":"OrganisationOut","description":"Organisation to display to user."},"OrganisationType":{"type":"string","enum":["FREE","DISCOUNTED","FULL_FEE"],"title":"OrganisationType","description":"An organisation's subscription type."},"PaginatedProjectSummaries":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ProjectSummary"},"type":"array","title":"Results"},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}},"type":"object","required":["results","pagination"],"title":"PaginatedProjectSummaries","description":"Project summaries + Pagination info."},"PaginatedUsers":{"properties":{"results":{"items":{"$ref":"#/components/schemas/UserOut"},"type":"array","title":"Results"},"pagination":{"$ref":"#/components/schemas/PaginationInfo"}},"type":"object","required":["results","pagination"],"title":"PaginatedUsers","description":"Project summaries + Pagination info."},"PaginationInfo":{"properties":{"has_next":{"type":"boolean","title":"Has Next"},"has_prev":{"type":"boolean","title":"Has Prev"},"next_num":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Next Num"},"page":{"type":"integer","title":"Page"},"pages":{"type":"integer","title":"Pages"},"prev_num":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prev Num"},"per_page":{"type":"integer","title":"Per Page"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["has_next","has_prev","next_num","page","pages","prev_num","per_page","total"],"title":"PaginationInfo","description":"Pagination JSON return."},"Point":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["Point"],"const":"Point","title":"Type"},"coordinates":{"anyOf":[{"$ref":"#/components/schemas/Position2D"},{"$ref":"#/components/schemas/Position3D"}],"title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"Point","description":"Point Model"},"Polygon":{"properties":{"bbox":{"anyOf":[{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":4,"minItems":4},{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":6,"minItems":6},{"type":"null"}],"title":"Bbox"},"type":{"type":"string","enum":["Polygon"],"const":"Polygon","title":"Type"},"coordinates":{"items":{"items":{"anyOf":[{"$ref":"#/components/schemas/Position2D"},{"$ref":"#/components/schemas/Position3D"}]},"type":"array","minItems":4},"type":"array","title":"Coordinates"}},"type":"object","required":["type","coordinates"],"title":"Polygon","description":"Polygon Model"},"Position2D":{"prefixItems":[{"type":"number","title":"Longitude"},{"type":"number","title":"Latitude"}],"type":"array","maxItems":2,"minItems":2},"Position3D":{"prefixItems":[{"type":"number","title":"Longitude"},{"type":"number","title":"Latitude"},{"type":"number","title":"Altitude"}],"type":"array","maxItems":3,"minItems":3},"ProjectIn":{"properties":{"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"name":{"type":"string","title":"Name"},"outline":{"$ref":"#/components/schemas/Polygon"},"odkid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Odkid"},"author_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Sub"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"custom_tms_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Tms Url"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/ProjectVisibility"},{"type":"null"}]},"osm_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Category"},"odk_form_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Id"},"odk_form_xml":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Xml"},"xlsform_content":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Xlsform Content"},"mapper_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"priority":{"anyOf":[{"$ref":"#/components/schemas/ProjectPriority"},{"type":"null"}]},"featured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Featured"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"},"data_extract_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Url"},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"primary_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"new_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"geo_restrict_distance_meters":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Geo Restrict Distance Meters"},"geo_restrict_force_error":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Geo Restrict Force Error"},"use_odk_collect":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Odk Collect"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Hashtags"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"tasks":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Tasks"},"organisation_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Name"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"centroid":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Centroid"},"bbox":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Bbox"},"last_active":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"},"odk_credentials":{"anyOf":[{"$ref":"#/components/schemas/ODKCentralDecrypted"},{"type":"null"}]},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks"},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors"},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions","default":0},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped","default":0},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated","default":0},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad","default":0}},"type":"object","required":["name","outline"],"title":"ProjectIn","description":"Upload new project."},"ProjectOut":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"outline":{"$ref":"#/components/schemas/Polygon"},"odkid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Odkid"},"author_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Sub"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"custom_tms_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Tms Url"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/ProjectVisibility"},{"type":"null"}]},"osm_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Category"},"odk_form_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Id"},"odk_form_xml":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Xml"},"mapper_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"priority":{"anyOf":[{"$ref":"#/components/schemas/ProjectPriority"},{"type":"null"}]},"featured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Featured"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"},"data_extract_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Url"},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"primary_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"new_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"geo_restrict_distance_meters":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Geo Restrict Distance Meters"},"geo_restrict_force_error":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Geo Restrict Force Error"},"use_odk_collect":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Odk Collect"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"tasks":{"anyOf":[{"items":{"$ref":"#/components/schemas/DbTask"},"type":"array"},{"type":"null"}],"title":"Tasks"},"organisation_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Name"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"centroid":{"anyOf":[{"$ref":"#/components/schemas/Point"},{"type":"null"}]},"bbox":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Bbox"},"last_active":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks"},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors"},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions","default":0},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped","default":0},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated","default":0},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad","default":0}},"type":"object","required":["id","name","outline"],"title":"ProjectOut","description":"Converters for DbProject serialisation & display."},"ProjectOutNoXml":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"outline":{"$ref":"#/components/schemas/Polygon"},"odkid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Odkid"},"author_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Sub"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"custom_tms_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Tms Url"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/ProjectVisibility"},{"type":"null"}]},"osm_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Category"},"odk_form_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Id"},"mapper_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"priority":{"anyOf":[{"$ref":"#/components/schemas/ProjectPriority"},{"type":"null"}]},"featured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Featured"},"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"},"data_extract_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Url"},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"primary_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"new_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"geo_restrict_distance_meters":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Geo Restrict Distance Meters"},"geo_restrict_force_error":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Geo Restrict Force Error"},"use_odk_collect":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Odk Collect"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"tasks":{"anyOf":[{"items":{"$ref":"#/components/schemas/DbTask"},"type":"array"},{"type":"null"}],"title":"Tasks"},"organisation_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Name"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"centroid":{"anyOf":[{"$ref":"#/components/schemas/Point"},{"type":"null"}]},"bbox":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Bbox"},"last_active":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks"},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors"},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions","default":0},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped","default":0},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated","default":0},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad","default":0}},"type":"object","required":["id","name","outline"],"title":"ProjectOutNoXml","description":"For reading all projects, it's overly verbose including XML."},"ProjectPriority":{"type":"string","enum":["MEDIUM","LOW","HIGH","URGENT"],"title":"ProjectPriority","description":"All possible project priority levels."},"ProjectRole":{"type":"string","enum":["MAPPER","VALIDATOR","FIELD_MANAGER","ASSOCIATE_PROJECT_MANAGER","PROJECT_MANAGER"],"title":"ProjectRole","description":"Available roles assigned to a user for a specific project.\n\nAll roles must be assigned by someone higher in the hierarchy:\n    - MAPPER = default for all\n    - VALIDATOR = can validate the mappers output\n    - FIELD_MANAGER = can invite mappers and organise people\n    - ASSOCIATE_PROJECT_MANAGER = helps the project manager, cannot delete project\n    - PROJECT_MANAGER = has all permissions to manage a project, including delete"},"ProjectStatus":{"type":"string","enum":["DRAFT","PUBLISHED","ARCHIVED","COMPLETED"],"title":"ProjectStatus","description":"All possible states of a Mapping Project."},"ProjectSummary":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"priority":{"anyOf":[{"$ref":"#/components/schemas/ProjectPriority"},{"type":"null"}]},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Hashtags"},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/ProjectVisibility"},{"type":"null"}]},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"centroid":{"anyOf":[{"$ref":"#/components/schemas/Point"},{"type":"null"}]},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks","default":0},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors","default":0},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions","default":0},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped","default":0},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated","default":0},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad","default":0}},"type":"object","required":["id","name","organisation_id","priority","hashtags","centroid"],"title":"ProjectSummary","description":"Project summaries."},"ProjectTeam":{"properties":{"team_id":{"type":"string","format":"uuid","title":"Team Id"},"team_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Name"},"project_id":{"type":"integer","title":"Project Id"},"users":{"items":{"$ref":"#/components/schemas/ProjectTeamUser"},"type":"array","title":"Users","default":[]}},"type":"object","required":["team_id","project_id"],"title":"ProjectTeam","description":"Project team."},"ProjectTeamIn":{"properties":{"team_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"},"team_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Name"},"project_id":{"type":"integer","title":"Project Id"},"users":{"items":{"$ref":"#/components/schemas/ProjectTeamUser"},"type":"array","title":"Users"}},"type":"object","required":["project_id","users"],"title":"ProjectTeamIn","description":"Create a new project team."},"ProjectTeamOne":{"properties":{"team_id":{"type":"string","format":"uuid","title":"Team Id"},"team_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Name"},"project_id":{"type":"integer","title":"Project Id"}},"type":"object","required":["team_id","project_id"],"title":"ProjectTeamOne","description":"Project team without users."},"ProjectTeamUser":{"properties":{"sub":{"type":"string","title":"Sub"},"username":{"type":"string","title":"Username"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"}},"type":"object","required":["sub","username"],"title":"ProjectTeamUser","description":"Single user with name and image for project team."},"ProjectUpdate":{"properties":{"odk_central_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Url"},"odk_central_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central User"},"odk_central_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Central Password"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"outline":{"anyOf":[{"$ref":"#/components/schemas/Polygon"},{"type":"null"}]},"odkid":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Odkid"},"author_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author Sub"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"per_task_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Per Task Instructions"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"task_split_type":{"anyOf":[{"$ref":"#/components/schemas/TaskSplitType"},{"type":"null"}]},"location_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Str"},"custom_tms_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Tms Url"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"visibility":{"anyOf":[{"$ref":"#/components/schemas/ProjectVisibility"},{"type":"null"}]},"osm_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Category"},"odk_form_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Id"},"odk_form_xml":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Form Xml"},"xlsform_content":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Xlsform Content"},"mapper_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"priority":{"anyOf":[{"$ref":"#/components/schemas/ProjectPriority"},{"type":"null"}]},"featured":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Featured"},"odk_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Odk Token"},"data_extract_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Extract Url"},"task_split_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Split Dimension"},"task_num_buildings":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Task Num Buildings"},"primary_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"new_geom_type":{"anyOf":[{"$ref":"#/components/schemas/DbGeomType"},{"type":"null"}]},"geo_restrict_distance_meters":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Geo Restrict Distance Meters"},"geo_restrict_force_error":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Geo Restrict Force Error"},"use_odk_collect":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Odk Collect"},"hashtags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Hashtags"},"due_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Due Date"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"tasks":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Tasks"},"organisation_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Name"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"centroid":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Centroid"},"bbox":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Bbox"},"last_active":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Active"},"odk_credentials":{"anyOf":[{"$ref":"#/components/schemas/ODKCentralDecrypted"},{"type":"null"}]},"total_tasks":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tasks"},"num_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Contributors"},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions","default":0},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped","default":0},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated","default":0},"tasks_bad":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Bad","default":0}},"type":"object","title":"ProjectUpdate","description":"Update a project, where all fields are optional."},"ProjectVisibility":{"type":"string","enum":["PUBLIC","PRIVATE","SENSITIVE","INVITE_ONLY"],"title":"ProjectVisibility","description":"Project visibility to end users.\n\nPUBLIC: All data is publicly available to all authenticated users from UI.\n\nPRIVATE: The project is not visible to any users until they are invited to the\nproject and submissions are only accessible to authenticated users who are\ncontributors to the project.\n\nSENSITIVE: All data is publicly available to all users, however submissions are only\naccessible to authenticated users who are contributors to the project.\n\nINVITE_ONLY: Only invited users can access the project, but access all data."},"ReviewStateEnum":{"type":"string","enum":["hasIssues","approved","rejected"],"title":"ReviewStateEnum","description":"Review states of submission.\n\nNOTE that these values must be camelCase to match what ODK Central requires."},"ReviewStateIn":{"properties":{"instance_id":{"type":"string","title":"Instance Id"},"review_state":{"$ref":"#/components/schemas/ReviewStateEnum"}},"type":"object","required":["instance_id","review_state"],"title":"ReviewStateIn","description":"Update to the review state of a submission."},"ReviewStateOut":{"properties":{"instanceId":{"type":"string","title":"Instanceid"},"submitterId":{"type":"integer","title":"Submitterid"},"deviceId":{"type":"string","title":"Deviceid"},"createdAt":{"type":"string","title":"Createdat"},"updatedAt":{"type":"string","title":"Updatedat"},"reviewState":{"type":"string","title":"Reviewstate"}},"type":"object","required":["instanceId","submitterId","deviceId","createdAt","updatedAt","reviewState"],"title":"ReviewStateOut","description":"The response from ODK Central on review state update."},"Submission":{"properties":{"instanceId":{"type":"string","title":"Instanceid"},"submitterId":{"type":"integer","title":"Submitterid"},"createdAt":{"type":"string","format":"date-time","title":"Createdat"},"deviceId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deviceid"},"reviewState":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reviewstate"},"userAgent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Useragent"},"instanceName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Instancename"},"updatedAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updatedat"},"attachments":{"anyOf":[{"items":{"$ref":"#/components/schemas/SubmissionAttachment"},"type":"array"},{"type":"null"}],"title":"Attachments"}},"type":"object","required":["instanceId","submitterId","createdAt"],"title":"Submission"},"SubmissionAttachment":{"properties":{"name":{"type":"string","title":"Name"},"exists":{"type":"boolean","title":"Exists"}},"type":"object","required":["name","exists"],"title":"SubmissionAttachment"},"SubmissionDashboard":{"properties":{"slug":{"type":"string","title":"Slug"},"organisation_name":{"type":"string","title":"Organisation Name"},"total_tasks":{"type":"integer","title":"Total Tasks"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"organisation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Organisation Id"},"organisation_logo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Organisation Logo"},"total_submissions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Submissions"},"total_contributors":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Contributors"},"last_active":{"type":"string","title":"Last Active"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]}},"type":"object","required":["slug","organisation_name","total_tasks","created_at"],"title":"SubmissionDashboard","description":"Submission details dashboard for a project."},"SubmissionDownloadType":{"type":"string","enum":["geojson","json","csv"],"title":"SubmissionDownloadType","description":"File type to download for ODK submission data."},"TaskEvent":{"type":"string","enum":["MAP","FINISH","VALIDATE","GOOD","BAD","SPLIT","MERGE","ASSIGN","COMMENT","RESET"],"title":"TaskEvent","description":"Task events via API.\n\n`MAP` -- Set to *locked for mapping*, i.e. mapping in progress.\n`FINISH` -- Set to *unlocked to validate*, i.e. is mapped.\n`VALIDATE` -- Set to *locked for validation*, i.e. validation in progress.\n`GOOD` -- Set the state to *unlocked done*.\n`BAD` -- Set the state *unlocked to map* again, to be mapped once again.\n`SPLIT` -- Set the state *unlocked done* then generate additional\n    subdivided task areas.\n`MERGE` -- Set the state *unlocked done* then generate additional\n    merged task area.\n`ASSIGN` -- For a requester user to assign a task to another user.\n    Set the state *locked for mapping* passing in the required user id.\n    Also notify the user they should map the area.\n`COMMENT` -- Keep the state the same, but simply add a comment."},"TaskEventCount":{"properties":{"date":{"type":"string","title":"Date"},"mapped":{"type":"integer","title":"Mapped"},"validated":{"type":"integer","title":"Validated"}},"type":"object","required":["date","mapped","validated"],"title":"TaskEventCount","description":"Task mapping history status counts per day."},"TaskEventIn":{"properties":{"event_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Event Id"},"task_id":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Task Id"},"event":{"$ref":"#/components/schemas/TaskEvent"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"user_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Sub"},"team_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"},"state":{"anyOf":[{"$ref":"#/components/schemas/MappingState"},{"type":"null"}]}},"type":"object","required":["event"],"title":"TaskEventIn","description":"Create a new task event."},"TaskEventOut":{"properties":{"event_id":{"type":"string","format":"uuid","title":"Event Id"},"task_id":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Task Id"},"event":{"$ref":"#/components/schemas/TaskEvent"},"user_sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Sub"},"team_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Team Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"},"state":{"anyOf":[{"$ref":"#/components/schemas/MappingState"},{"type":"null"}]}},"type":"object","required":["event_id","event"],"title":"TaskEventOut","description":"A task event to display to the user."},"TaskOut":{"properties":{"id":{"type":"integer","title":"Id"},"outline":{"$ref":"#/components/schemas/Polygon"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"project_task_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Task Index"},"feature_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Feature Count"},"task_state":{"anyOf":[{"$ref":"#/components/schemas/MappingState"},{"type":"null"}]},"actioned_by_uid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actioned By Uid"},"actioned_by_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Actioned By Username"}},"type":"object","required":["id","outline"],"title":"TaskOut","description":"Task for serialising and display."},"TaskSplitType":{"type":"string","enum":["DIVIDE_ON_SQUARE","CHOOSE_AREA_AS_TASK","TASK_SPLITTING_ALGORITHM"],"title":"TaskSplitType","description":"Task splitting type for fmtm-splitter."},"UserInviteIn":{"properties":{"token":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Token"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"osm_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Osm Username"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"role":{"anyOf":[{"$ref":"#/components/schemas/ProjectRole"},{"type":"null"}],"default":"MAPPER"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Used At"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","title":"UserInviteIn","description":"Insert a user invite record."},"UserOut":{"properties":{"sub":{"type":"string","title":"Sub"},"username":{"type":"string","title":"Username"},"role":{"$ref":"#/components/schemas/UserRole"},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"City"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"email_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email Address"},"is_email_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Email Verified","default":false},"is_expert":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Expert","default":false},"mapping_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped"},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated"},"tasks_invalidated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Invalidated"},"projects_mapped":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Projects Mapped"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"registered_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Registered At"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"project_roles":{"anyOf":[{"additionalProperties":{"$ref":"#/components/schemas/ProjectRole"},"type":"object"},{"type":"null"}],"title":"Project Roles"},"orgs_managed":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Orgs Managed"}},"type":"object","required":["sub","username","role"],"title":"UserOut","description":"User and role."},"UserRole":{"type":"string","enum":["READ_ONLY","MAPPER","ADMIN"],"title":"UserRole","description":"Available roles assigned to a user site-wide in Field-TM.\n\nCan be used for global user permissions:\n    - READ_ONLY = write access blocked (i.e. banned)\n    - MAPPER = default for all\n    - ADMIN = super admin with access to everything"},"UserRolesOut":{"properties":{"user_sub":{"type":"string","title":"User Sub"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"role":{"$ref":"#/components/schemas/ProjectRole"}},"type":"object","required":["user_sub","role"],"title":"UserRolesOut","description":"User role for a specific project."},"UserUpdate":{"properties":{"sub":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"role":{"anyOf":[{"$ref":"#/components/schemas/UserRole"},{"type":"null"}]},"profile_img":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Img"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"City"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"email_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email Address"},"is_email_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Email Verified","default":false},"is_expert":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Expert","default":false},"mapping_level":{"anyOf":[{"$ref":"#/components/schemas/MappingLevel"},{"type":"null"}]},"tasks_mapped":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Mapped"},"tasks_validated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Validated"},"tasks_invalidated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tasks Invalidated"},"projects_mapped":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Projects Mapped"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"registered_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Registered At"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"project_roles":{"anyOf":[{"additionalProperties":{"$ref":"#/components/schemas/ProjectRole"},"type":"object"},{"type":"null"}],"title":"Project Roles"},"orgs_managed":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Orgs Managed"}},"type":"object","title":"UserUpdate","description":"User details for update in DB."},"Usernames":{"properties":{"sub":{"type":"string","title":"Sub"},"username":{"type":"string","title":"Username"}},"type":"object","required":["sub","username"],"title":"Usernames","description":"User info with username and their id."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"XLSFormType":{"type":"string","enum":["OSM Buildings","OSM Highways","OSM Healthcare"],"title":"XLSFormType","description":"XLSForm categories bundled by default.\n\nThe key is the name of the XLSForm file for internal use.\nThis cannot match an existing OSM tag value, so some words are replaced\n(e.g. OSM=healthcare, XLSForm=health).\n\nThe the value is the user facing form name (e.g. healthcare)."},"app__db__enums__BackgroundTaskStatus":{"type":"string","enum":["PENDING","FAILED","RECEIVED","SUCCESS"],"title":"BackgroundTaskStatus","description":"FastAPI background Task Statuses."},"app__projects__project_schemas__BackgroundTaskStatus":{"properties":{"status":{"type":"string","title":"Status"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["status"],"title":"BackgroundTaskStatus","description":"Background task status for project related tasks."}}}}